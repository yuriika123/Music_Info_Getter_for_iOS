# Music Info Getter

Apple Musicのアルバムや曲のURLから美しい画像を生成し、写真ライブラリに保存できるiOSアプリです。

## 📱 機能

### 🎨 画像生成機能
- **Apple Music URL対応**: アルバムや曲のURLから音楽情報を自動取得
- **カスタマイズ可能なデザイン**: 
  - 背景スタイル（ぼかし、単色、グラデーション）
  - アスペクト比（3:4、9:16、iPhoneサイズ）
  - フォントスタイル（標準、等幅）
- **QRコード表示**: オプションでQRコードを画像に埋め込み
- **高解像度アートワーク**: 2000x2000pxの高品質アートワークを使用

### 📚 履歴管理
- **自動履歴保存**: 生成した画像は自動的に履歴に保存
- **履歴表示**: 過去に作成した画像を一覧表示
- **スワイプ削除**: 履歴から不要な項目を削除可能
- **詳細情報表示**: 曲名、アーティスト名、作成日時を表示

### 📋 クリップボード連携
- **自動コピー**: 生成完了時に曲情報をクリップボードに自動コピー
- **ペースト機能**: URL入力欄にペーストボタンを配置

## 🛠 技術仕様

### 開発環境
- **言語**: Swift
- **フレームワーク**: SwiftUI
- **対象OS**: iOS 18.0+, 26.0
- **開発ツール**: Xcode 16.4+, 26 beta 4

### 主要ライブラリ
- `SwiftUI`: UIフレームワーク
- `Photos`: 写真ライブラリアクセス
- `CoreImage`: 画像処理・QRコード生成
- `URLSession`: ネットワーク通信

### アーキテクチャ
- **MVVM**: Model-View-ViewModelパターン
- **ObservableObject**: 状態管理
- **UserDefaults**: 履歴データの永続化

## 📁 プロジェクト構造

```
newMusicShare3.0/
├── newMusicShare3_0App.swift      # アプリのエントリーポイント
├── ContentView.swift              # メイン画面
├── HistoryManager.swift           # 履歴管理クラス
├── HistoryView.swift              # 履歴表示画面
└── Assets.xcassets/              # アセットファイル
    ├── AppIcon.appiconset/       # アプリアイコン
    └── AccentColor.colorset/     # アクセントカラー
```

## 🎯 主要機能の詳細

### 画像生成プロセス
1. **URL解析**: Apple Music URLからIDを抽出
2. **API取得**: iTunes APIから音楽情報を取得
3. **画像処理**: 
   - 高解像度アートワークのダウンロード
   - 背景スタイルの適用（ぼかし/単色/グラデーション）
   - テキスト情報の合成
   - QRコードの埋め込み（オプション）
4. **保存**: 写真ライブラリと履歴に保存

### カスタマイズオプション
- **背景スタイル**:
  - ぼかし: アートワークをぼかして背景に使用
  - 単色: アートワークの平均色を背景に使用
  - グラデーション: アートワークの主要色でグラデーション作成

- **アスペクト比**:
  - 3:4: 正方形に近い比率
  - 9:16: 縦長比率
  - iPhone: デバイスの画面比率に合わせる

- **フォントスタイル**:
  - 標準フォント: システムフォント
  - 等幅フォント: モノスペースフォント

## 🔧 セットアップ

### 前提条件
- macOS 13.0+
- Xcode 16.0+
- iOS 18.0+対応デバイス

### インストール手順
1. リポジトリをクローン
```bash
git clone [repository-url]
cd "Music Info Getter"
```

2. Xcodeでプロジェクトを開く
```bash
open "Music Info Getter.xcodeproj"
```

3. デバイスまたはシミュレーターでビルド・実行

## 📱 使用方法

### 基本的な使い方
1. アプリを起動
2. Apple Musicのアルバムまたは曲のURLを入力
   - 手動入力またはペーストボタンを使用
3. 画像スタイルを設定
   - 背景、アスペクト比、フォントを選択
   - QRコード表示の有無を選択
4. 「画像を作成してコピー」ボタンをタップ
5. 生成された画像が写真ライブラリに保存され、曲情報がクリップボードにコピーされる

### 履歴の確認
- ナビゲーションバーの時計アイコンをタップ
- 過去に作成した画像の一覧を表示
- スワイプで履歴を削除可能

## 🔒 プライバシー・権限

### 必要な権限
- **写真ライブラリ**: 生成した画像を保存するため
- **ネットワーク**: iTunes APIへのアクセス

### データ処理
- 履歴データは端末内のUserDefaultsに保存
- 外部サーバーへの個人情報送信は行わない
- 生成された画像は端末の写真ライブラリにのみ保存

## 🐛 トラブルシューティング

### よくある問題
1. **URLが認識されない**
   - Apple Musicの公式URLを使用しているか確認
   - URLの形式が正しいか確認

2. **画像が生成されない**
   - ネットワーク接続を確認
   - 写真ライブラリへのアクセス権限を確認

3. **アプリがクラッシュする**
   - デバイスの空き容量を確認
   - アプリを再起動

## 📄 ライセンス

このプロジェクトはMITライセンスの下で公開されています。

## 👨‍💻 開発者

**yuriika123** - 2025年7月27日作成

---

## 📝 更新履歴

### v3.0 (2025/07/04)
- 履歴機能の追加
- QRコード表示機能の追加
- UI/UXの大幅改善
- カスタマイズオプションの拡充

### v2.0
- 複数のアスペクト比対応
- 背景スタイルの追加
- フォントカスタマイズ機能

### v1.0
- 基本的な画像生成機能
- Apple Music URL対応
- 写真ライブラリ保存機能 